### **206.2 Backup operations**

**Weight:** 3

**Description:** Candidates should be able to use system tools to back up important system data.

**Key Knowledge Areas:**

* Knowledge about directories that have to be include in backups
* Awareness of network backup solutions such as Amanda, Bacula, Bareos and BackupPC
* Knowledge of the benefits and drawbacks of tapes, CDR, disk or other backup media
* Perform partial and manual backups.
* Verify the integrity of backup files.
* Partially or fully restore backups.

**Terms and Utilities:**

* /bin/sh
* dd
* tar
* /dev/st\* and /dev/nst\*
* mt
* rsync

### Why do we need to Backup?

We have already talk about RAID and LVM, although making RAID group or creating LVM, make sort of reliability and safetiness but they are not consider as backup solutions. We might lose data and experience failure because of different reasons:

* electricity goes off
* Hardware failure \(mobo, cpu, ram, hard disks, ...\)
* human kind miss configuration
* ...

To tell the truth the last reason is the most common and the most dangerous one. To avoid them we need to backup, we have to backup, we are forced to backup.

### What to backup?

 Not all directories and file are required to be backed up especially when there backup space issues. In linux File System Hierarchy Standard \(FHS\) there are directories and files with different priority for backing up:

| Directory | Priority | Description |
| :--- | :--- | :--- |
| /etc/ | high | system wide configuration files required for all programs |
| /home/ | high | Home directories for all users to store their personal files |
| /usr/local/ | high | contains users programs that you install from source |
| /var/lib/ | medium | contains lots of data, getting full backup leave us on the safe side. |
| /var/mail/ | medium | local emails |
| /var/www/ | medium | deafult web root  |
| /var/spool/ | medium | printer queues but might used by some applications |
| /var/log/ | low | system log files |
| /opt/ | medium | Contains add-on applications from individual vendors |
| /usr/ | low | Contains binaries, libraries, documentation, and source-code for second level program |

###  How to backup?

In any platform there are always some native tools and third party programs for backing up. 

| Package | Licence | Language | Graphical user \(GUI\) interface | Command Line\(CMD\)interface |
| :--- | :--- | :--- | :--- | :--- |
| ![](/assets/logo_amanda.png) | BSD | C , Perl | No \(except with Amanda Enterprise\) | Yes |
| ![](/assets/logo-backuppc.gif) | GPLv2.0 | Perl | Yes | Yes |
| ![](/assets/logo-bacula.png) | AGPLv3.0 | C , C++ | Yes | Yes |



